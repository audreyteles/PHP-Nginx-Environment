server {
    # listen 80 <your_server_domain>
    listen 80 default_server;

    # Base project folder
    root    /var/www/php/;

    # Accepted index files
    index   index.php;

    # Basic athentication
    auth_basic              "Basic Auth";
    auth_basic_user_file    .htpasswd;

    # Set as alocation all files ending with .php
    location ~* \.php$ {
        # fastcgi_pass <container_name:container_port>
        fastcgi_pass   php:9000;
        include        fastcgi_params;
        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param  SCRIPT_NAME     $fastcgi_script_name;
  }
}
